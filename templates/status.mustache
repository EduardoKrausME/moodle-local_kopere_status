{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_kopere_status/status

    Example context (json):
    {
        "title": "Report name"
    }
}}

<div class="sb-container">
    <header class="sb-header">
        <h1 class="sb-title">{{{title}}}</h1>
        <span class="sb-overall sb-{{{overall}}}">{{{overall_label}}}</span>
    </header>

    <section>
        {{#statusmodules}}
            <div class="sb-card">
                <div class="sb-card-head">
                    <span class="sb-dot {{#http}}up{{/http}}{{^http}}down{{/http}}"></span>
                    <h3>{{{name}}}</h3>
                </div>
                <div class="sb-card-head">
                    <div class="sb-head-right">
                        {{#status.uptime24h}}
                            <div class="sb-uptimevalue">{{.}}%</div>
                            <div class="sb-uptimelabel">{{#str}}uptime, local_kopere_status{{/str}}</div>
                        {{/status.uptime24h}}
                        {{^status.uptime24h}}
                            <div class="sb-uptimevalue">—</div>
                            <div class="sb-uptimelabel">{{#str}}uptime, local_kopere_status{{/str}}</div>
                        {{/status.uptime24h}}
                    </div>
                </div>
                <div class="sb-hoursline" role="list" aria-label="Últimas horas">
                    {{#status.hours}}
                        <span class="sb-hourbar {{cls}}" role="listitem" title="{{title}}" aria-label="{{title}}"></span>
                    {{/status.hours}}
                </div>

                {{#sample_http}}
                    <p class="sb-metric"><strong>{{{latencyms}}} ms</strong></p>
                    <p class="sb-sub">
                        {{#status}}
                            {{#str}}up, local_kopere_status{{/str}}
                        {{/status}}
                        {{^status}}
                            {{#str}}down, local_kopere_status{{/str}}
                        {{/status}}
                        ·
                        {{#httpcode}}
                            HTTP {{{httpcode}}}
                        {{/httpcode}}
                    </p>
                    <p class="sb-time">{{#str}}lastcheck, local_kopere_status{{/str}}: {{{timecreated}}}</p>
                {{/sample_http}}
                {{^sample_http}}
                    <p class="sb-sub">{{#str}}nodata, local_kopere_status{{/str}}</p>
                {{/sample_http}}
            </div>
        {{/statusmodules}}
    </section>
</div>
